<%- top_bar_back_shadow_height = 30 -%>
<%- top_bar_logo_graphic_img_dimens = {:width => 276, :height => 83} -%>
<%- top_bar_logo_graphic_img_insets = {:top => -2, :right => -6, :bottom => -26, :left => -6} -%>
<%- top_bar_logo_margins = {:top => 20, :right => 20, :bottom => 30, :left => 20} -%>

.front #top-bar > .content {
	margin: <%= css_direction_quartet.collect {|d| "#{top_bar_logo_margins[d]}px" }.join(' ') %>;
	vertical-align: top;
	
	position: absolute;
	top: 0; left: <%= top_bar_logo_graphic_img_dimens[:width] + top_bar_logo_graphic_img_insets[:left] + top_bar_logo_graphic_img_insets[:right] + top_bar_logo_margins[:right] * 2 %>px;
}

.front #top-bar > .content > .tagline {
	<%- top_bar_tagline_height = 24 -%>
	
	margin-top: <%= top_bar_logo_graphic_img_dimens[:height] + top_bar_logo_graphic_img_insets[:top] + top_bar_logo_graphic_img_insets[:bottom] - top_bar_tagline_height %>px;
	margin-bottom: <%= -top_bar_logo_graphic_img_insets[:bottom] %>px;
	
	line-height: 1em;
	
	font-size: <%=top_bar_tagline_height%>px;
	color: #ddd;
	text-shadow: 0 2px 3px <%= shadow_color(0.5).to_s(:css_rgba) %>;
	
	white-space: nowrap;
}

.front #top-bar > .content > .tagline > .imp { color: #eee; }

.front #top-bar > .back {
	/* override */ padding-bottom: <%=top_bar_back_shadow_height%>px;
}

.front #top-bar > .back > .fill {
	/* override */ border-bottom: <%=border_width*2%>px solid <%= wash_color.adjust(:v => -0.1) %>; /* for IE */
	/* override */ border-bottom: <%=border_width*2%>px solid <%= generic_border_color.to_s(:css_rgba) %>;
	
	/* override */ /*background: <%= accent_color %>;*/
	/* override */ <%= %W{box-shadow -moz-box-shadow -webkit-box-shadow}.collect {|p| "#{p}: 0px 3px 18px #{shadow_color.to_s(:css_rgba)};" }.join(' ') %>
	
	/* override */ margin-bottom: -<%=border_width*2%>px;
	
	/* override */ bottom: <%=top_bar_back_shadow_height%>px;
}

.front #top-bar > .logo {
	/* override */ border-bottom: <%=border_width*2 %>px solid <%= accent_color.adjust(:v => -0.15) %>; /* for IE */
	/* override */ border-bottom: <%=border_width*2%>px solid <%= generic_border_color.to_s(:css_rgba) %>;
	
	/* override */ border-right: <%=border_width%>px solid <%= accent_color.adjust(:v => -0.15) %>; /* for IE */
	/* override */ border-right: <%=border_width%>px solid <%= generic_border_color.to_s(:css_rgba) %>;
	
	/* override */ /*border: none;*/
	/* override */ /*background: none;*/
	/* override */ margin-bottom: -<%=border_width*2%>px;
	
	padding: <%= css_direction_quartet.collect {|d| "#{top_bar_logo_margins[d]}px" }.join(' ') %>;
}

.front #top-bar > .logo > .graphic {
	float: left;
	
	width: 0;
	overflow: visible;
}


.front #top-bar > .logo > .graphic > img {
	<%= top_bar_logo_graphic_img_dimens.collect {|p, d| "#{p}: #{d}px;" }.join(' ') %>
	
	margin: <%= css_direction_quartet.collect {|d| "#{top_bar_logo_graphic_img_insets[d]}px" }.join(' ') %>; /* to remove the built-in drop shadow and below-baseline spacing */
}

.front #top-bar > .logo > .text {
	position: relative; z-index: 1;
	
	font-size: 72px;
	line-height: 72px;
	margin-bottom: -72px;
	
	color: transparent;
	/* IE8 */ filter: alpha(opacity=0);
}


.front #flashes {
	position: relative;
	z-index: 500;
	
	height: 0;
	overflow: visible;
	
	top: -32px;
}


.front #flashes > .flash {
	display: inline-block;
	padding: 0.25em 0.5em;
	
	font-size: 24px;
	
	background-color: <%= (wash_color * 0.5).to_s %>;  /* for IE */
	background-color: <%= (wash_color * 0.5).to_s(:css_rgba) %>;
	color: <%= wash_text_color %>;
	
	text-shadow: 0 2px 3px <%= shadow_color(0.5).to_s(:css_rgba) %>;
	
	border: 2px solid transparent;
	border-color: <%= generic_border_color.to_s %>;  /* for IE */
	border-color: <%= generic_border_color.to_s(:css_rgba) %>;
	<%= border_radius_decl %>
	
	<%= deep_shadow_decl(1) %>
	
	margin-bottom: 12px;
}



.front #page {
	padding: 24px;
}



.front #schpiel { margin-top: 12px; margin-bottom: 32px; }

.front #schpiel h3 { font-size: 24px; line-height: 1.5em; color: <%= wash_color %>; }
.front #schpiel h4 { font-size: 16px; line-height: 1.5em; color: <%= text_color %>; font-weight: normal; }

.front #schpiel .leader { padding-left: 1em; border-top: 2px dotted <%= divider_color * 0.5 + "#fff".to_color * 0.5 %>; }
.front #schpiel .leader .sym { color: <%= wash_color * 0.5 + bg_color * 0.5 %>; margin-left: -1.25em; margin-right: 0.25em; }

.front #schpiel ul { padding-left: 2.5em; }
.front #schpiel ul > li { padding-left: 0.5em; list-style-type: disc; border-top: 2px dotted <%= divider_color * 0.5 + "#fff".to_color * 0.5 %>; }


<%- feature_box_screenshot_img_dimens = {:width => 960, :height => nil} -%>
<%- feature_box_screenshot_img_min_dimens = {:width => feature_box_screenshot_img_dimens[:width] * 0.5, :height => nil} -%>
<%- feature_box_screenshot_img_insets = {:top => -12, :right => -23, :bottom => -34, :left => -23} -%>


.front #feature-box {
	min-width: <%= feature_box_screenshot_img_min_dimens[:width] %>px; max-width: <%= feature_box_screenshot_img_dimens[:width] %>px;
	
	/*padding: <%= css_direction_quartet.collect {|d| "#{-feature_box_screenshot_img_insets[d]}px" }.join(' ') %>;*/ /* to add back in the image's drop shadow spacing */
	
	/*margin-bottom: 32px;*/
}

.front #features { position: relative; z-index: 10; display: block; /* no horizontal padding, or it will throw off the 33%! */ }
.front #features .feature { display: block; width: 33%; float: left; /* no horizontal margin, or it will throw off the 33%! */ }
.front #features .feature h3 { font-size: 18px; line-height: 1.5em; color: <%= wash_color %>; margin-bottom: 0.25em; border-bottom: 1px dotted <%=divider_color%>;  }
.front #features .feature.hover h3 { color: #111; border-color: <%= divider_color - (bg_color - divider_color) %>;}
.front #features ul {}
.front #features ul > li { list-style-type: none; }
.front #features .feature p { font-size: 14px; }
.front #features .feature > .inner {
	display: block;
	
	margin: 4px;
	padding: 8px;
	
	
	border: <%= border_width %>px solid transparent;
	border-color: <%= generic_border_color.adjust(:v => 0.75).to_s %>; /* for IE */
	border-color: <%= generic_border_color.to_s(:css_rgba) %>;
	<%= border_radius_decl('6px') %>
	
	<%= deep_shadow_decl(0.25) %>
}
.front #features .feature.hover > .inner {
	margin: 3px; /* one less than than non-hover margin */
	
	background: <%= focus_back %>;
	border-width: 2px;
	border-color: <%= focus_color %>;
	<%= deep_shadow_decl(0.5) %>
}

.front #feature-box .screenshot { position: relative; }

.front #feature-box .screenshot img {
	min-width: <%= feature_box_screenshot_img_min_dimens[:width] %>px; width: <%= feature_box_screenshot_img_dimens[:width] %>px; max-width: 100%;
	
	/*margin: <%= css_direction_quartet.collect {|d| "#{feature_box_screenshot_img_insets[d]}px" }.join(' ') %>;*/ /* to remove the built-in drop shadow spacing */
}

.front #feature-box .screenshot > .footnote {
	position: relative;
	top: -1em;
	margin: 0 32px;
	
	font-size: 0.75em;
	line-height: 1em;
	text-transform: uppercase;
	opacity: 0.33; filter: alpha(opacity=33);
}



<%- foot_bar_back_shadow_height = 10 -%>

.front #foot-bar {
	position: relative;
	
	background: #eee;
}

.front #foot-bar > .back {
	overflow: hidden;
	
	position: absolute;
	top: -26px;
	width: 100%; height: 26px;
	
	padding-bottom: <%=foot_bar_back_shadow_height%>px;
}

.front #foot-bar > .back > .fill {
	position: absolute;
	z-index: 1;
	top: -26px; left: -26px; right: -26px;
	bottom: <%=foot_bar_back_shadow_height%>px;
	
	<%= shallow_shadow_decl %>
}

.front #foot-bar > .content {
	padding: 36px 4px 4px;
	width: 1000px; max-width: 100%;
}



.front #invite {
	position: relative;
	
	width: 480px; max-width: 100%;
	margin: 0 auto;
	margin-bottom: 32px;
	
	padding: 8px;
	
	border: 2px solid <%= focus_color %>;
	<%= border_radius_decl('6px') %>
	background: <%= focus_color.adjust(:v => 1.0, :s => -0.75) %>; /* for IE */
	background: <%= focus_color.with(:a => 0.25).to_s(:css_rgba) %>;
	<%= shallow_shadow_decl(1.0) %>
}

.front #invite p { font-size: 14px; margin-bottom: 0.5em; }
.front #invite .sub { display: block; font-size: 10px; opacity: 0.66; filter: alpha(opacity=66); }

.front #invite form input { border-width: 2px; }

.front #invite form input[type='text'] {
	font-size: 20px;
	line-height: 24px; height: 24px;
	padding: 2px;
	margin: -2px;
	
	text-shadow: 0 2px 3px <%= shadow_color(0.5).to_s(:css_rgba) %>;
	
	background: <%= (wash_color * 0.5).adjust(:v => 0.1).to_s %>; /* for IE */
	background: <%= (wash_color * 0.5).with(:a => 0.9).to_s(:css_rgba) %>;
	
	width: <%= 480 - 8 - 128 %>px;
}

.front #invite form input[type='submit'] {
	font-size: 16px;
	font-weight: bold;
	font-style: italic;
	line-height: 24px; height: 24px;
	
	text-shadow: 0 2px 3px <%= shadow_color(0.5).to_s(:css_rgba) %>;
	
	background: <%= (wash_color * 0.5).adjust(:v => 0.1).to_s %>; /* for IE */
	background: <%= (wash_color * 0.5).with(:a => 0.9).to_s(:css_rgba) %>;
	
	width: 128px;
	float: right;
}



.front #share {
	width: 480px;
	padding: 8px;
	
	border: 2px solid transparent;
	border-color: <%= generic_border_color.adjust(:v => 0.75).to_s %>; /* for IE */
	border-color: <%= generic_border_color(0.25).to_s(:css_rgba) %>;
	<%= border_radius_decl('6px') %>
	background: <%=bg_color%>;
	<%= deep_shadow_decl(0.5) %>
	
	margin: 0 auto 32px;
}
.front #share p { font-size: 14px; margin-bottom: 0.5em; }
.front #share p > .sub { display: block; font-weight: normal; font-style: italic; opacity: 0.5; filter: alpha(opacity=50); }
.front #share > ul { display: block; margin-bottom: 16px; }
.front #share > ul > li { display: block; float: left; margin: 0 16px 16px 0; }
.front #share .facebook { border: 1px solid #94A3C4; background: #ECEFF5; }

.front #foot-bar #copyright {
	font-size: 0.85em;
	line-height: 1em;
	opacity: 0.5; filter: alpha(opacity=50);
}

.front #foot-bar #copyright a { text-decoration: none; }
